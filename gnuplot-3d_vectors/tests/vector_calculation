

2*atan2((sqrt(1-($3/$4)^2)),(1+($3/$4)))

awk '{printf("%.4f   %.4f   %.4f   %.4f\n", $1, $2, $3, $1+$2)}' xyz


awk '{printf("%.4f   %.4f   %.4f   %.4f\n", $1, $2, $3, sqrt($1+$2+$3) )}' xyz


awk '{printf("%.4f   %.4f   %.4f   %.4f   %.4f\n", $1, $2, $3, sqrt($1+$2+$3), atan2($2,$1))}'


awk '{printf("%.4f   %.4f   %.4f   %.4f   %.4f    %.4f\n", $1, $2, $3, sqrt($1+$2+$3), atan2($2,$1), 2*atan2((sqrt(1-($3/$4)^2)),(1+($3/$4))))}'


unset key

set xlabel "Photon energy [eV]"
set ylabel "x"
set zlabel "y         "

set xrange [0:]
set yrange [-0.06:0.06]
set zrange [0:]

set style arrow 1 linecolor rgb "red"

splot 'test' 1:2:3:4:5:6 with vectors arrowstyle 1


splot (0):(0):(0):(1):(1):(1) with vectors arrowstyle 1

awk '{if(NR>1){print $1-_n};_n=$1}' cos-sin

awk 'NR>1{printf("  %.4f\n", $1-p)} {p=$1}' cos-sin | sed  '$ d' > dif-row-c1
awk 'NR>1{printf(" %.4f\n", $2-p)} {p=$2}' cos-sin | sed  '$ d' > dif-row-c2
awk 'NR>1{printf(" %.4f\n", $3-p)} {p=$3}' cos-sin | sed  '$ d' > dif-row-c3


awk '{printf("%1.8E\n", atan2($2,$1))}'
